function s_RnaPrueba()
%%% Redes neuronales para diabetes
%%% Clasificador RNA
%%%Crea el vector de neuronas por capas
NoCapas=4
NeuronasXcapa=zeros(1,NoCapas);
for i=1:NoCapas
NeuronasXcapa(1,i)=randi([3 6]);
end
%%% trainFcn es el m?todo de encendido de cada neurona
%%% Verificar documentaci?n
sNet.trainFcn = 'trainbfg';
%%%Se crea la red neuronal
sNet = feedforwardnet(NeuronasXcapa,sNet.trainFcn);
%sNet.trainParam.epochs = 10;
sNet.trainParam.goal=0.001;
sNet.trainParam.max_fail=1000;
%%%Se entrena la red neuronal
Datos_Entrenamiento= [ 5.1,3.5,1.4,0.2;...
                    4.9,3.0,1.4,0.2;...
                    4.7,3.2,1.3,0.2;...
                    4.6,3.1,1.5,0.2;...
                    5.0,3.6,1.4,0.2;...
                    5.4,3.9,1.7,0.4;...
                    4.6,3.4,1.4,0.3;...
                    5.0,3.4,1.5,0.2;...
                    4.4,2.9,1.4,0.2;...
                    4.9,3.1,1.5,0.1;...
                    5.4,3.7,1.5,0.2;...
                    4.8,3.4,1.6,0.2;...
                    4.8,3.0,1.4,0.1;...
                    4.3,3.0,1.1,0.1;...
                    5.8,4.0,1.2,0.2;...
                    5.7,4.4,1.5,0.4;...
                    5.4,3.9,1.3,0.4;...
                    5.1,3.5,1.4,0.3;...
                    5.7,3.8,1.7,0.3;...
                    5.1,3.8,1.5,0.3;...
                    5.4,3.4,1.7,0.2;...
                    5.1,3.7,1.5,0.4;...
                    4.6,3.6,1.0,0.2;...
                    5.1,3.3,1.7,0.5;...
                    4.8,3.4,1.9,0.2;...
                    5.0,3.0,1.6,0.2;...
                    5.0,3.4,1.6,0.4;...
                    5.2,3.5,1.5,0.2;...
                    5.2,3.4,1.4,0.2;...
                    4.7,3.2,1.6,0.2;...
                    4.8,3.1,1.6,0.2;...
                    5.4,3.4,1.5,0.4;...
                    5.2,4.1,1.5,0.1;...
                    5.5,4.2,1.4,0.2;...
                    4.9,3.1,1.5,0.1;...
                    5.0,3.2,1.2,0.2;...
                    5.5,3.5,1.3,0.2;...
                    4.9,3.1,1.5,0.1;...
                    4.4,3.0,1.3,0.2;...
                    5.1,3.4,1.5,0.2;...
                    5.0,3.5,1.3,0.3;...
                    4.5,2.3,1.3,0.3;...
                    4.4,3.2,1.3,0.2;...
                    5.0,3.5,1.6,0.6;...
                    5.1,3.8,1.9,0.4;...
                    4.8,3.0,1.4,0.3;...
                    5.1,3.8,1.6,0.2;...
                    4.6,3.2,1.4,0.2;...
                    5.3,3.7,1.5,0.2;...
                    5.0,3.3,1.4,0.2;...
                    7.0,3.2,4.7,1.4;...
                    6.4,3.2,4.5,1.5;...
                    6.9,3.1,4.9,1.5;...
                    5.5,2.3,4.0,1.3;...
                    6.5,2.8,4.6,1.5;...
                    5.7,2.8,4.5,1.3;...
                    6.3,3.3,4.7,1.6;...
                    4.9,2.4,3.3,1.0;...
                    6.6,2.9,4.6,1.3;...
                    5.2,2.7,3.9,1.4;...
                    5.0,2.0,3.5,1.0;...
                    5.9,3.0,4.2,1.5;...
                    6.0,2.2,4.0,1.0;...
                    6.1,2.9,4.7,1.4;...
                    5.6,2.9,3.6,1.3;...
                    6.7,3.1,4.4,1.4;...
                    5.6,3.0,4.5,1.5;...
                    5.8,2.7,4.1,1.0;...
                    6.2,2.2,4.5,1.5;...
                    5.6,2.5,3.9,1.1;...
                    5.9,3.2,4.8,1.8;...
                    6.1,2.8,4.0,1.3;...
                    6.3,2.5,4.9,1.5;...
                    6.1,2.8,4.7,1.2;...
                    6.4,2.9,4.3,1.3;...
                    6.6,3.0,4.4,1.4;...
                    6.8,2.8,4.8,1.4;...
                    6.7,3.0,5.0,1.7;...
                    6.0,2.9,4.5,1.5;...
                    5.7,2.6,3.5,1.0;...
                    5.5,2.4,3.8,1.1;...
                    5.5,2.4,3.7,1.0;...
                    5.8,2.7,3.9,1.2;...
                    6.0,2.7,5.1,1.6;...
                    5.4,3.0,4.5,1.5;...
                    6.0,3.4,4.5,1.6;...
                    6.7,3.1,4.7,1.5;...
                    6.3,2.3,4.4,1.3;...
                    5.6,3.0,4.1,1.3;...
                    5.5,2.5,4.0,1.3;...
                    5.5,2.6,4.4,1.2;...
                    6.1,3.0,4.6,1.4;...
                    5.8,2.6,4.0,1.2;...
                    5.0,2.3,3.3,1.0;...
                    5.6,2.7,4.2,1.3;...
                    5.7,3.0,4.2,1.2;...
                    5.7,2.9,4.2,1.3;...
                    6.2,2.9,4.3,1.3;...
                    5.1,2.5,3.0,1.1;...
                    5.7,2.8,4.1,1.3;...
                    6.3,3.3,6.0,2.5;...
                    5.8,2.7,5.1,1.9;...
                    7.1,3.0,5.9,2.1;...
                    6.3,2.9,5.6,1.8;...
                    6.5,3.0,5.8,2.2;...
                    7.6,3.0,6.6,2.1;...
                    4.9,2.5,4.5,1.7;...
                    7.3,2.9,6.3,1.8;...
                    6.7,2.5,5.8,1.8;...
                    7.2,3.6,6.1,2.5;...
                    6.5,3.2,5.1,2.0;...
                    6.4,2.7,5.3,1.9;...
                    6.8,3.0,5.5,2.1;...
                    5.7,2.5,5.0,2.0;...
                    5.8,2.8,5.1,2.4;...
                    6.4,3.2,5.3,2.3;...
                    6.5,3.0,5.5,1.8;...
                    7.7,3.8,6.7,2.2;...
                    7.7,2.6,6.9,2.3;...
                    6.0,2.2,5.0,1.5;...
                    6.9,3.2,5.7,2.3;...
                    5.6,2.8,4.9,2.0;...
                    7.7,2.8,6.7,2.0;...
                    6.3,2.7,4.9,1.8;...
                    6.7,3.3,5.7,2.1;...
                    7.2,3.2,6.0,1.8;...
                    6.2,2.8,4.8,1.8;...
                    6.1,3.0,4.9,1.8;...
                    6.4,2.8,5.6,2.1;...
                    7.2,3.0,5.8,1.6;...
                    7.4,2.8,6.1,1.9;...
                    7.9,3.8,6.4,2.0;...
                    6.4,2.8,5.6,2.2;...
                    6.3,2.8,5.1,1.5;...
                    6.1,2.6,5.6,1.4;...
                    7.7,3.0,6.1,2.3;...
                    6.3,3.4,5.6,2.4;...
                    6.4,3.1,5.5,1.8;...
                    6.0,3.0,4.8,1.8;...
                    6.9,3.1,5.4,2.1;...
                    6.7,3.1,5.6,2.4;...
                    6.9,3.1,5.1,2.3;...
                    5.8,2.7,5.1,1.9;...
                    6.8,3.2,5.9,2.3;...
                    6.7,3.3,5.7,2.5;...
                    6.7,3.0,5.2,2.3;...
                    6.3,2.5,5.0,1.9;...
                    6.5,3.0,5.2,2.0;...
                    6.2,3.4,5.4,2.3;...
                    5.9,3.0,5.1,1.8]

for i=1:50  
  for j=1:3
       if j ~= 1
           clases_Entrenamiento(i,j) = 0;
       else
           clases_Entrenamiento(i,j) = 1;
       end
       
    end    
end 
for i=51:100  
  for j=1:3
       if j ~= 2
           clases_Entrenamiento(i,j) = 0;
       else
           clases_Entrenamiento(i,j) = 1;
       end
       
    end    
end 
for i=101:150 
  for j=1:3
       if j ~= 3
           clases_Entrenamiento(i,j) = 0;
       else
           clases_Entrenamiento(i,j) = 1;
       end
       
    end    
end 


         
Datos_Prueba=[ 5.1,3.5,1.4,0.2;...
    4.9,3.0,1.4,0.2;...
    7.0,3.2,4.7,1.4;...
    6.4,3.2,4.5,1.5;...
    6.3,3.3,6.0,2.5;...
    5.8,2.7,5.1,1.9]

clases_Prueba=[1 0 0;...
			 1 0 0;...
			 0 1 0;...
			 0 1 0;...
			 0 0 1;...
			 0 0 1]

%se entrena la RNA
sNet = train(sNet,Datos_Entrenamiento',clases_Entrenamiento');
%%%Se visualiza la red neuronal
view(sNet)
%%% Una prueba para validad la red neuronal
salida = sim(sNet,Datos_Prueba');
disp('salida');
salida=round(salida')

%%9 es el tama?o de las matrices de prueba
contador=0;tam=6;
for i=1:tam
	if salida(i,:)==clases_Prueba(i,:)
	contador=contador+1;
	end
end

Porcentaje=contador*100/tam
disp(strcat('El porcentaje es ',num2str(Porcentaje)));